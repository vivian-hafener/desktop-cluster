---
# ============ Desired system state ============
# You should not need to touch variables outside of this space

slinky_devel: false # This is unsafe and show not be used in production deployments

# Slurm state
slurm_src:
  repo: "git@gitlab.com:SchedMD/dev/slurm.git"
  tag: "slurm-25-05-1-1"
  version: "25.05"
  major_version: "25"

accept_gitlab_hostkey: true

# Chart state
slurm_chart_state: present
slurm_operator_chart_state: present
slurm_bridge_chart_state: absent

# Local chart configuration
slinky_use_local_charts: false
slinky_chart_dir: "/home/vhafener/charts"
slinky_repo_root: "git@gitlab.com:SchedMD/slinky-dev"

slurm_operator_version: "main"
#slurm_operator_chart_ref: "{{ slinky_chart_dir }}/slurm-operator/helm/slurm-operator"
#slurm_chart_ref: "{{ slinky_chart_dir }}/slurm-operator/helm/slurm"
#slurm_bridge_chart_ref: "{{ slinky_chart_dir }}/slurm-bridge/helm/slurm-bridge"
slurm_bridge_version: "main"

reconfigure_slurm: true

# ============ Cluster Configuration ============ 
# slurmctld_service_extra_flags: "-i"

# Scheduler config
slurm_first_job_id: "1"

# Node config
# slurm_debug_flags: NetworkRaw
slurmctld_debug: "debug2"
slurmd_debug: "debug2"
node_base: "n"
slurm_compute_nodes: "{{ node_base }}[2-4].vhafener.com"
slurm_compute_realmemory: "13000"
slurm_compute_sockets: "1"
slurm_compute_corespersocket: "4"
slurm_compute_threadspercore: "2"
slurm_nodelist:
  - "NodeName={{ slurm_compute_nodes }} RealMemory={{ slurm_compute_realmemory }} "
slurm_partitionlist:
  - "PartitionName=batch Nodes={{ slurm_compute_nodes }} Default=NO MaxTime=INFINITE State=UP DefaultTime=2:00:00"


# ============ Installation Configuration ============ 

# Munged
munge_key_path: /home/vhafener/munge.key

# MariaDB
slurm_mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66343266316261633135653839323461626630363938616161323763316234333135396161343235
          6231643465656536646431313262333662376663363135630a316132363335633565633363643964
          63333465666364366262646634333062663561363730373561646662356665356630643035356364
          6631343266623935370a386133313264363562623433323863633765623536623335386537343539
          6337
slurmdb_root_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66343266316261633135653839323461626630363938616161323763316234333135396161343235
          6231643465656536646431313262333662376663363135630a316132363335633565633363643964
          63333465666364366262646634333062663561363730373561646662356665356630643035356364
          6631343266623935370a386133313264363562623433323863633765623536623335386537343539
          6337
